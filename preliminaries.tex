\section{Other Definitions and Preliminary Results}
\label{sec:prelim}

\subsection{Overview}

Here, we present some definitions and preliminary results which enable
us to define a normalized representation for NCFs.
This representation plays an important role in several
problems considered in later sections.

\medskip

Recall that any NCF $f$ with $n$ variables,
denoted by $x_1$, $x_2$, $\ldots$, $x_n$,~
is specified using a variable ordering 
$x_{\pi(1)}$, $x_{\pi(2)}$, $\ldots$,  $x_{\pi(n)}$,
where $\pi$ is a permutation of $\{1, 2, \ldots, n\}$.
We will refer to this as the \textbf{lexicographic} ordering
of the variables in the specification.

\medskip

Throughout this section, we assume that an NCF $f$ with $n$
variables is specified using the simplified representation with $n$ lines. 
Unless otherwise mentioned, the ``Default" line (which is assigned the number $n+1$)
in the simplified representation of an NCF is \emph{not} considered
in the results stated in this section.

\subsection{Layers and Normalized Representation}
\label{sse:ncf_layer}

We begin with a two-part observation from \cite{Stearns-etal-2018}.

\begin{observation} \label{obs:ncf_transformations}
Let $f$ be an NCF with $n$ variables specified using $n$ lines
in the simplified representation. 
\begin{description}
\item{(a)} 
For any $q \geq 2$ and for any $i$, $1 \leq i \leq n-q+1$,
if the $q$ consecutive lines $i$, $i+1$, $\ldots$, $i+q-1$~
have the same canalyzed value, then the function remains
unchanged if these $q$ lines are permuted in any order
without changing the other lines.

\item{(b)} 
Suppose lines $n-1$ and $n$ in the specification of $f$ 
have complementary canalyzed outputs.
Then, the function remains unchanged 
if the canalyzing value and canalyzed output in line $n$
are both complemented. 
(Here, the value on the ``Default" line is also complemented.)
\QED
\end{description}
\end{observation}

\noindent
Li et al. \cite{Li-etal-2013} have defined the concept of a 
{\bf layer} of an NCF in terms of
an algebraic representation of the NCF as an extended monomial.
For our purposes, we use the following definition based on the
simplified representation of NCFs given in Section~\ref{sec:intro}.

\begin{definition}
\label{def:layer}
A {\bf layer} of a NCF representation is a maximal length sequence 
of lines with the same canalyzed output.
\end{definition}
%%Note that the ``Default" line in the representation of an NCF is
%%\emph{not} considered in the definition of a layer.

\noindent
\textbf{Example 4:}~ Consider the following function $f$ of six variables
$x_1$, $x_2$, $\ldots$, $x_6$. 

\bigskip

\noindent
\begin{tabular}{ll}
\hspace*{1.1in} & $x_1:~$  $1 ~\longrightarrow~ 1$ \\ [0.5ex]
\hspace*{1.1in} & $x_2:~$  $0 ~\longrightarrow~ 1$ \\ [0.5ex]
\hspace*{1.1in} & $x_3:~$  $0 ~\longrightarrow~ 0$ \\ [0.5ex]
\hspace*{1.1in} & $x_4:~$  $1 ~\longrightarrow~ 0$ \\ [0.5ex]
\hspace*{1.1in} & $x_5:~$  $1 ~\longrightarrow~ 1$ \\ [0.5ex]
\hspace*{1.1in} & $x_6:~$  $1 ~\longrightarrow~ 0$ \\ [0.5ex]
\hspace*{1.1in} & Default:~ $1$ \\
\end{tabular}

\medskip
\noindent
This function has 4 layers, with 
Layer~1 consisting of the lines with $x_1$ and $x_2$, 
Layer~2 consisting of the lines with $x_3$ and $x_4$, 
Layer~3 consisting of the line with $x_5$ and 
Layer~4 consisting of the line with $x_6$. \qed

\medskip
From Part~(a) of Observation~\ref{obs:ncf_transformations},
it follows that the lines within the same layer of an NCF
representation can be permuted without changing the function.
Part~(b) of Observation~\ref{obs:ncf_transformations} points
out that for any NCF $f$ with $n \geq 2$ variables, there is a simplified 
representation in which lines $n-1$ and $n$ are in the same layer.

%% It can be verified that the number of layers in the 
%% extended monomial formula for a NCF (as defined in \cite{Li-etal-2013})
%% is the same as the number of layers in the normalized representation.

\medskip
We can now define the notion of a \textbf{normalized} 
representation for NCFs.

\begin{definition}
\label{def:normalized}
Let $f$ be an NCF with $n \geq 2$ variables specified using
the simplified representation with 
lexicographic ordering given by  
$\langle x_{\pi(1)}, x_{\pi(2)}, x_{\pi(n)}\rangle$.
We say that the representation is {\bf normalized} if
both of the following conditions hold.
\begin{enumerate}
  \item Lines $n-1$ and $n$ have the same canalyzed output ~and
  \item each pair of consecutive lines
        with the same canalyzed output occur in the lexicographic order 
        of their canalyzing variables; that is, if two consecutive lines are \\
%\medskip
\noindent
\hspace*{1.1in} $x_i$:~ $a_i \longrightarrow b$ \\
\hspace*{1.1in} $x_j$:~ $a_j \longrightarrow b$

%\medskip
\noindent
then $x_i$ precedes $x_j$ in the lexicographic ordering.
\end{enumerate}
\end{definition}

\noindent
\textbf{Example 5:}~ 

\medskip
\noindent
\textbf{Part 1:}~
Consider the NCF $f$ shown in Example~4 with
the variable ordering $x_1$, $x_2$, $x_3$, $x_4$, $x_5$, $x_6$.
This representation is \emph{not} normalized since lines 5 and 6
have different canalyzed values.
If we change line 6 to ``$x_6$:~ 0 $\longrightarrow$ 1" and the
value on the ``Default" line to 0, then we obtain 
a normalized representation. 

\medskip
\noindent
\textbf{Part 2:}~ Consider the normalized version of Example~4 
produced in Part~1 above. 
In that representation, if we exchange Lines 1 and 2, 
by Part~(a) of Observation~\ref{obs:ncf_transformations},
the function does not change. 
However, the resulting representation is \emph{not} normalized
since the line with $x_2$ precedes the one 
with $x_1$. \qed

\medskip
From Observation \ref{obs:ncf_transformations},
we note that in polynomial time, for any NCF representation with more than one line,
we can first modify the last line if necessary so that it has the same canalyzed output as the preceding line,
and then we can lexicographically sort
each maximal sequence of consecutive lines with the same canalyzed output,
thereby obtaining an equivalent normalized NCF representation.
We state this formally below.

\begin{observation}\label{obs:normalization_poly}
Given an NCF representation for a function $f$, a normalized
representation for $f$ can be obtained in polynomial time. \QED
\end{observation}

\subsection{Complexity of Estimating the Symmetry Level of a i
Boolean Function}
\label{sse:symmetry_level_hardness}

Recall that the symmetry level of a Boolean function $f$ is the smallest
integer $r$ such that the following condition holds:
the  inputs to $f$ can be partitioned into $r$ subsets 
(symmetry groups) so that the value of $f$ depends only on 
how many of the inputs in each group have the value 1.
The following result shows that given a Boolean function $f$
in the form of a Boolean expression, it is \cnp-hard to 
approximate\footnote{An algorithm approximates the symmetry
level of a Boolean function $f$ within the factor $\rho$ if it finds a
partition of the inputs to $f$ into at most $\rho \timex r^*$ symmetry
groups, where $r^*$ is the symmetry level of $f$.}
the symmetry level of $f$ to within any factor $\rho \geq 1$.

\newcommand{\cala}{\mbox{$\mathcal{A}$}}

\begin{proposition}\label{pro:approx_sym_level_hard}
For any $\rho \geq 1$, it is \cnp-hard to approximate the
symmetry level of $f$ to within the factor $\rho$.
\end{proposition}

\noindent
\textbf{Proof:}~ Suppose there is an efficient algorithm \cala{} 
that provides a $\rho$ approximation for the symmetry level
of a Boolean function for some $\rho \geq 1$.
We will show that \cala{} can be used to efficiently solve
the CNF Satisfiability problem (SAT) which is known 
to be \cnp-hard \cite{GJ-1979}.

Let $f$ be a CNF formula representing an instance of SAT.
Let $X$ = $\{x_1, x_2, \ldots, x_n\}$ denote the set of
Boolean variables used in $f$.


\QED

In contrast, we will show that the symmetry level of an NCF (or that of a
generalized NCF) can be computed efficiently.
